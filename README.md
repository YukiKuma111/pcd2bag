# pcd2bag

This is a simple tool generated by __ChatGPT__ reads PCD files from a directory and writes them sequentially to a ROS bag file.

## Prerequisites

1. Install ROS: Ensure that you have ROS installed on your system (e.g., ROS Noetic for Ubuntu 20.04).

2. Install PCL: PCL should be installed as part of your ROS installation.

## Steps to Compile

1. Git Clone:

    ```
    cd ~/your/workspace/
    git clone https://github.com/YukiKuma111/pcd2bag.git
    ```

2. Create a ROS Package:

    If you don't already have a ROS workspace, create one:

    ```
    cd pcd2bag/src/
    catkin_init_workspace
    ```

3. Build the Package:

    ```
    cd ..
    catkin_make
    source devel/setup.bash
    ```

## Run the Node

Run the executable with the path to your directory containing the PCD files and the output ROS bag file:

```
rosrun pcd_to_rosbag pcd_to_rosbag /your/input/pcd/directory output/rosbag/save/path/output.bag
```

## Explanation:

- __Directory Iteration:__ The code iterates through each file in the specified directory.

- __PCD File Loading:__ It loads each PCD file using PCL.

- __Timestamp Handling:__ The timestamp is assumed to be part of the filename (before the .pcd extension). The filename is converted into a ros::Time object.

- __ROS Bag Writing__: Each point cloud is written into the ROS bag with the appropriate timestamp.

## File Directory
```
.
├── README.md
└── src
    └── pcd_to_rosbag
        ├── CMakeLists.txt
        ├── include
        │   └── pcd_to_rosbag
        ├── package.xml
        └── src
            └── pcd_to_rosbag.cpp
```